"use strict";exports.id=3447,exports.ids=[3447],exports.modules={57971:(e,a,t)=>{t.d(a,{IG:()=>B,default:()=>R,as:()=>M,T:()=>L});var s=t(8973),l=t(58879),r=t(75905),n=t(8046),i=t(56317),o=t(93836),d=t(73579),c=t(83701),u=t(54479);let[m,b]=(0,t(28453).R)("List component was not found in tree");var p={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};let h={},g=(0,u.d5)((e,a)=>{let{classNames:t,className:l,style:r,styles:n,vars:i,icon:d,children:u,mod:m,...p}=(0,o.w)("ListItem",h,e),g=b(),x=d||g.icon,f={classNames:t,styles:n};return(0,s.jsx)(c.x,{...g.getStyles("item",{...f,className:l,style:r}),component:"li",mod:[{"with-icon":!!x,centered:g.center},m],ref:a,...p,children:(0,s.jsxs)("div",{...g.getStyles("itemWrapper",f),children:[x&&(0,s.jsx)("span",{...g.getStyles("itemIcon",f),children:x}),(0,s.jsx)("span",{...g.getStyles("itemLabel",f),children:u})]})})});g.classes=p,g.displayName="@mantine/core/ListItem";let x={type:"unordered"},f=(0,i.Z)((e,{size:a,spacing:t})=>({root:{"--list-fz":(0,n.yv)(a),"--list-lh":(0,n.Dp)(a),"--list-spacing":(0,n.bG)(t)}})),_=(0,u.d5)((e,a)=>{let t=(0,o.w)("List",x,e),{classNames:l,className:r,style:n,styles:i,unstyled:u,vars:b,children:h,type:g,withPadding:_,icon:y,spacing:j,center:v,listStyleType:S,mod:k,...w}=t,N=(0,d.y)({name:"List",classes:p,props:t,className:r,style:n,classNames:l,styles:i,unstyled:u,vars:b,varsResolver:f});return(0,s.jsx)(m,{value:{center:v,icon:y,getStyles:N},children:(0,s.jsx)(c.x,{...N("root",{style:{listStyleType:S}}),component:"unordered"===g?"ul":"ol",mod:[{"with-padding":_},k],ref:a,...w,children:h})})});_.classes=p,_.displayName="@mantine/core/List",_.Item=g;var y=t(52121),j=t(44487),v=t(5543),S=t(51153),k=t(83224),w=t(19082),N=t(38834),Z=t(63807),F=t(68848),C=t(66426),P=t(37585),O=t(97049),z=t(12530),q=t(34386),I=t(34778),A=t(7952),E=t(52022),J=t(33476),$=t(71258),T=t(49313);let R=()=>{let[e,{open:a,close:t,toggle:n}]=(0,w.q)(!1),[i,o]=r.useState();(0,$.nK)(i);let d=(0,Z.useSearchParams)(),c=(0,Z.useParams)();(0,Z.usePathname)();let u=d.get("selected_app"),m=d.get("data_source"),b=c.cycle_id,p=c.stage_uuid;return r.useEffect(()=>{async function e(){o(await (0,z.w9)({stage_uuid:p,cycle_id:b,apps_label:u,datasource_type:m}))}b&&u&&m&&p&&e()},[b,m,u,p]),e?s.jsx(l.u,{opened:e,onClose:t,fullScreen:!0,radius:0,transitionProps:{transition:"fade",duration:200},withCloseButton:!1,children:s.jsx(D,{data:i,open:a,close:t,toggle:n})}):s.jsx(D,{data:i,open:a,close:t,toggle:n})},L=async(e,a)=>{let t=a.target.offsetParent.id,l="process_stage_name"===t?e[t]:JSON.parse(e[t]);"process_stage_name"===t?await (0,z.zm)({params:{stage_name:l}}).then(async e=>{e.error?(q.Z.error(e.message),await (0,z.Xc)({params:{error_message_uuid:e.uuid_error}}).then(e=>{I.qk.open({title:"Syntax errors",children:(0,s.jsxs)(s.Fragment,{children:[e.map(({error_message:e},a)=>s.jsx(_,{type:"ordered",withPadding:!0,children:(0,s.jsxs)(_.Item,{children:[a+1,". ",e]})},a)),s.jsx(y.Flex,{gap:16,justify:"end",mt:"md",children:s.jsx(j.z,{onClick:()=>I.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{q.Z.error("Failed to get error messages\n"+e)})):q.Z.success(e.message)}).catch(e=>{q.Z.error("Failed to test stage name\n"+e)}):await (0,z.in)({body:{str_test_syntax:l}}).then(async e=>{e.error?(q.Z.error(e.message),await (0,z.Xc)({params:{error_message_uuid:e.list_error_no}}).then(e=>{I.qk.open({title:"Syntax errors",children:(0,s.jsxs)(s.Fragment,{children:[e.map(({error_message:e},a)=>s.jsx(_,{type:"ordered",withPadding:!0,children:(0,s.jsxs)(_.Item,{children:[a+1,". ",e]})},a)),s.jsx(y.Flex,{gap:16,justify:"end",mt:"md",children:s.jsx(j.z,{onClick:()=>I.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{q.Z.error("Failed to get error messages\n"+e)})):q.Z.success(e.message)}).catch(e=>{q.Z.error("Failed to verify syntax\n"+e)})},M=async(e,a)=>{let t=a.target.offsetParent.id,l=a.target.offsetParent.dataset.cycle_id,r="process_stage_name"===t?e[t]:JSON.parse(e[t]),n=a.target.offsetParent.dataset.stage_uuid;"process_stage_name"===t?await (0,z.q2)({params:{stage_name:r,cycle_id:l}}).then(async e=>{e.error?(q.Z.error(e.message),await (0,z.Cp)({params:{error_message_uuid:e.uuid_error}}).then(e=>{I.qk.open({title:"Semantic errors",children:(0,s.jsxs)(s.Fragment,{children:[e.map(({error_message:e},a)=>s.jsx(_,{type:"ordered",withPadding:!0,children:(0,s.jsxs)(_.Item,{children:[a+1,". ",e]})},a)),s.jsx(y.Flex,{gap:16,justify:"end",mt:"md",children:s.jsx(j.z,{onClick:()=>I.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{q.Z.error("Failed to get error messages\n"+e)})):q.Z.success(e.message)}).catch(e=>{q.Z.error("Failed to test stage name\n"+e)}):await (0,z.BI)({body:{str_test_semantic:r,current_stage:n,current_key:t}}).then(async e=>{e.error?(q.Z.error(e.message),await (0,z.Cp)({params:{error_message_uuid:e.list_error_no}}).then(e=>{I.qk.open({title:"Semantic errors",children:(0,s.jsxs)(s.Fragment,{children:[e.map(({error_message:e},a)=>s.jsx(_,{type:"ordered",withPadding:!0,children:(0,s.jsxs)(_.Item,{children:[a+1,". ",e]})},a)),s.jsx(y.Flex,{gap:16,justify:"end",mt:"md",children:s.jsx(j.z,{onClick:()=>I.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{q.Z.error("Failed to get error messages\n"+e)})):q.Z.success(e.message)}).catch(e=>{q.Z.error("Failed to evaluate semantics\n"+e)})},D=({data:e,toggle:a})=>{let{data:t}=(0,J.kP)(),l=t?.user?.user_id,r=(0,Z.usePathname)(),n=(0,Z.useParams)(),i=(0,Z.useSearchParams)(),o=`${r}?${i}`,d=n.stage_uuid,c=n.cycle_id,u=i.get("data_source"),m=r.includes("deleted"),b=[{name:"process_stage_name",label:"Stage name",type:"text",value:e?.process_stage_name,disabled:!1},{name:"updated_datetime",label:"Last edited date",type:"text",value:e?.updated_datetime,disabled:!0},{name:"list_previous",label:"List of previous stage",type:null,value:e?.list_previous,disabled:!0},{name:"list_next_stage",label:"List of next stage",type:null,value:e?.list_next_stage,disabled:!0},{name:"list_user",label:"Users",type:"json",value:e?.list_user,disabled:!1},{name:"list_pbt",label:"PBT",type:"json",value:e?.list_pbt,disabled:!1},{name:"list_role",label:"Roles",type:"json",value:e?.list_role,disabled:!1},{name:"list_requirement",label:"Requirements",type:"json",value:e?.list_requirement,disabled:!1},{name:"list_action",label:"Action",type:"json",value:e?.list_action,disabled:!1},{name:"list_entry_condition",label:"Entry condition",type:"json",value:e?.list_entry_condition,disabled:!1},{name:"list_exit_condition",label:"Exit condition",type:"json",value:e?.list_exit_condition,disabled:!1}],p=(0,C.cI)({defaultValues:{process_stage_name:"",updated_datetime:"",list_previous:"",list_next_stage:"",list_user:"",list_pbt:"",list_role:"",list_requirement:"",list_action:"",list_entry_condition:"",list_exit_condition:""},values:{process_stage_name:e?.process_stage_name,updated_datetime:e?.updated_datetime,list_previous:e?.list_previous,list_next_stage:e?.list_next_stage,list_user:JSON.stringify(e?.list_user,null,2),list_pbt:JSON.stringify(e?.list_pbt,null,2),list_role:JSON.stringify(e?.list_role,null,2),list_requirement:JSON.stringify(e?.list_requirement,null,2),list_action:JSON.stringify(e?.list_action,null,2),list_entry_condition:JSON.stringify(e?.list_entry_condition,null,2),list_exit_condition:JSON.stringify(e?.list_exit_condition,null,2)}}),{handleSubmit:h,setValue:g}=p,{isEditable:x,toggleIsEditable:f}=(0,T.Z)(),_=async(e,a)=>{let t=a.nativeEvent.submitter.id,r="process_stage_name"===t?e[t]:JSON.parse(e[t]),n=b.find(e=>e.name===t)?.label;I.qk.open({onClose:f?.(t),title:"Confirm update",children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.x,{size:"sm",children:["Are you sure you want to update ",s.jsx("strong",{children:n}),"?"]}),(0,s.jsxs)(y.Flex,{gap:16,justify:"end",mt:"md",children:[s.jsx(j.z,{onClick:()=>I.qk.closeAll(),color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",children:"Cancel"}),s.jsx(j.z,{onClick:async()=>{let e,a;"process_stage_name"===t?(e=await (0,z.zm)({params:{stage_name:r}}).then(e=>(e.error?q.Z.error(e.message):q.Z.success(e.message),e.result)).catch(e=>{q.Z.error("Failed to test syntax on stage name\n"+e)}).finally(()=>{I.qk.closeAll()}),a=await (0,z.q2)({params:{stage_name:r,cycle_id:c}}).then(e=>(e.error?q.Z.error(e.message):q.Z.success(e.message),e.result)).catch(e=>{q.Z.error("Failed to test semantics on stage name\n"+e)}).finally(()=>{I.qk.closeAll()}),e&&a?await (0,z.xn)({stage_uuid:d,field_name:t,body:{value:r}}).then(async()=>{q.Z.success(`${n} updated successfully`),await (0,z.Vh)({action:"update_stage_info",location_url:o,object:"src/app/cycle/_components/Forms/EditForm.tsx",process_state:"TRIGGERAPI",sysfunc:'"onSaveSubmit" func ',userid:l,sysapp:"FLOWCRAFTBUSINESSPROCESS",notes:`stage info "${n}" updated successfully`,json_object:{stage_uuid:d,field_name:t,value:r}})}).catch(e=>{q.Z.error("Failed to update stage\n"+e)}).finally(()=>{I.qk.closeAll()}):q.Z.error(`Failed to update ${n}`)):e=await (0,z.in)({body:{str_test_syntax:r}}).then(async e=>(e.error?q.Z.error(e.message):q.Z.success(e.message),e.result)).catch(e=>{q.Z.error("Failed to verify syntax\n"+e)}).finally(()=>{I.qk.closeAll()}),a=await (0,z.BI)({body:{str_test_semantic:r,current_stage:d,current_key:t}}).then(async e=>(e.error?q.Z.error(e.message):q.Z.success(e.message),e.result)).catch(e=>{q.Z.error("Failed to evaluate semantics\n"+e)}).finally(()=>{I.qk.closeAll()}),e&&a?await (0,z.xn)({stage_uuid:d,field_name:t,body:{value:r}}).then(async()=>{q.Z.success(`${n} updated successfully`),await (0,z.Vh)({action:"update_stage_info",location_url:o,object:"src/app/cycle/_components/Forms/EditForm.tsx",process_state:"TRIGGERAPI",sysfunc:'"onSaveSubmit" func ',userid:l,sysapp:"FLOWCRAFTBUSINESSPROCESS",notes:`stage info "${n}" updated successfully`,json_object:{stage_uuid:d,field_name:t,value:r}})}).catch(e=>{q.Z.error("Failed to update stage\n"+e)}).finally(()=>{I.qk.closeAll()}):q.Z.error(`Failed to update ${n}`)},color:"var(--fc-brand-700)",radius:"md",children:"Yes"})]})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})};return(0,N.a)("(max-height: 768px)"),s.jsx(S.ScrollAreaAutosize,{children:s.jsx(C.RV,{...p,children:(0,s.jsxs)("form",{className:(0,O.Z)("space-y-4 h-[calc(100vh-146.5px)]"),onSubmit:h(_),children:[s.jsx(F.Z,{type:"stages",toggleExpand:a}),s.jsx("div",{className:"container mx-auto space-y-8 py-4",children:b?.map((e,a)=>s.jsx(A.Z,{allowEdit:"database"===u&&!e.disabled&&!m,...e,isEditable:x[e.name],toggleIsEditable:()=>f(e.name)},a))})]})})})},B=({data:e})=>{let[a,t]=r.useState({pageSize:5,pageIndex:0}),[l,n]=r.useState([]),i=[{header:"Stage Name",accessorFn:e=>e.process_stage_name},{header:"Date created",accessorFn:e=>e.created_datetime}],o=(0,P.Un)({columns:r.useMemo(()=>i,[i]),data:r.useMemo(()=>l,[l]),initialState:{density:"xs"},onPaginationChange:t,state:{pagination:a},enableSorting:!1,enableTopToolbar:!1,enableBottomToolbar:!1,enableColumnActions:!1,enableStickyHeader:!0,mantineTableContainerProps:{mah:"150",px:"32"},mantinePaginationProps:{rowsPerPageOptions:["5","10","15"],showRowsPerPage:!1},paginationDisplayMode:"pages",mantinePaperProps:{classNames:{root:"!border-none !shadow-none w-full"}},mantineTableBodyRowProps:({row:e})=>({classNames:{tr:"!border-none"}})});return r.useEffect(()=>{e&&n(e)},[e]),(0,s.jsxs)(k.K,{children:[s.jsx(E.Z,{table:o}),s.jsx(P.ZO,{table:o})]})}},68848:(e,a,t)=>{t.d(a,{Z:()=>o});var s=t(8973),l=t(72227),r=t(44487),n=t(97049),i=t(63807);t(75905);let o=({toggleEdit:e,isEdit:a,toggleExpand:t,type:o,isFullscreen:d})=>{let c=(0,i.useSearchParams)(),u=(0,i.usePathname)(),m="database"===c.get("data_source"),b="profile"===o,p="stages"===o,h="general"===o;if(!o)throw Error("type is required");let g=[{label:"Duplicate",type:"button",disabled:p&&!a,canShow:m&&p&&!a,onClick:()=>{},variant:"filled",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:s.jsx(l.JO,{width:"1rem",icon:"heroicons-outline:duplicate"})},{label:"Delete",type:"button",disabled:!0,canShow:m&&!a,onClick:()=>{},variant:"filled",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:s.jsx(l.JO,{width:"1rem",icon:"heroicons-outline:trash"})},{label:"Edit",type:"button",disabled:!1,canShow:!!e&&(m||b)&&!a,onClick:e,variant:"filled",color:b?"var(--fc-neutral-100)":"var(--fc-brand-700)",c:b?"var(--fc-neutral-900)":"default",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:s.jsx(l.JO,{width:"1rem",icon:"heroicons-outline:pencil-alt"})},{label:"Close",type:"button",disabled:!1,canShow:m&&p&&a,onClick:e,variant:"white",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}},{label:"Save",type:"submit",disabled:!1,canShow:(m&&h||b)&&a,onClick:()=>{},variant:"filled",color:"var(--fc-brand-700)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}},{label:"Cancel",type:"button",disabled:!1,canShow:(m&&h||b)&&a,onClick:e,variant:"white",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}}];return(0,s.jsxs)("div",{className:(0,n.Z)("flex px-14 py-6 items-center border-b",m&&h&&"justify-end"),children:[b?u.includes("/profile")?s.jsx("h1",{className:"text-2xl font-semibold mr-auto",children:"Profile Details"}):u.includes("/security")?s.jsx("h1",{className:"text-2xl font-semibold mr-auto",children:"Change Password"}):u.includes("/activities")?s.jsx("h1",{className:"text-2xl font-semibold mr-auto",children:"Activity Timeline"}):null:null,(m||b)&&s.jsx(s.Fragment,{children:h||b?s.jsx("div",{className:"flex gap-4",children:g.map(({label:e,canShow:a,icon:t,...l},n)=>a&&s.jsx(r.z,{...l,leftSection:t,children:e},n))}):s.jsx("h1",{className:"text-2xl font-semibold",children:"Stage Information"})}),!m&&(0,s.jsxs)(s.Fragment,{children:[h&&s.jsx("h1",{className:"text-2xl font-semibold",children:"General Information"}),p&&s.jsx("h1",{className:"text-2xl font-semibold",children:"Stage Information"})]})]})}},41100:(e,a,t)=>{t.d(a,{Z:()=>n});var s=t(8973),l=t(72227),r=t(46794);let n=({onMouseEnter:e,label:a})=>s.jsx(r.u,{label:a,children:s.jsx(l.JO,{icon:"mingcute:information-fill",width:"0.7rem",height:"0.7rem",className:"!mb-2 !ml-0.5 cursor-pointer text-black/80 hover:text-black/70",onMouseEnter:e})})},7952:(e,a,t)=>{t.d(a,{Z:()=>v});var s=t(8973),l=t(89029),r=t(9431),n=t(75905),i=t(66426),o=t(8874),d=t(72227),c=t(46794),u=t(22807),m=t(45495),b=t(97049);let p=({name:e,copyValue:a,hidden:t,onCancel:l,type:r})=>(0,s.jsxs)("div",{className:(0,b.Z)("flex items-center ml-auto space-x-1.5","text"===r&&"absolute right-2"),children:[!t&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(c.u,{label:"Save",children:s.jsx(u.A,{id:e,component:"button",type:"submit",variant:"transparent",bg:"var(--fc-neutral-100)",color:"black",size:"lg",radius:"md","aria-label":"Settings",children:s.jsx(d.JO,{icon:"heroicons-outline:check",width:"1.2rem",className:"border p-2 rounded-lg text-black/70 hover:text-black"})})}),s.jsx(c.u,{label:"Cancel",children:s.jsx(u.A,{id:e,variant:"transparent",bg:"var(--fc-neutral-100)",color:"black",size:"lg",radius:"md","aria-label":"Settings",onClick:l,children:s.jsx(d.JO,{icon:"heroicons-outline:x",width:"1.2rem",className:"border p-2 rounded-lg text-black/70 hover:text-black"})})})]}),"json"===r&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.q,{value:a,timeout:2e3,children:({copied:e,copy:a})=>s.jsx(c.u,{label:e?"Copied":"Copy",children:s.jsx(u.A,{color:"black",variant:"transparent",bg:e?"#c5aff9":"var(--fc-neutral-100)",size:"lg",radius:"md",onClick:a,children:e?s.jsx(d.JO,{icon:"heroicons-outline:check",width:"1.2rem",height:"1.2rem",className:"text-black/70 hover:text-black"}):s.jsx(d.JO,{icon:"heroicons-outline:document-duplicate",width:"1.2rem",height:"1.2rem",className:"text-black/70 hover:text-black"})})})}),s.jsx(u.A,{disabled:!0,color:"black",variant:"subtle",size:"lg",bg:"transparent",radius:"md",classNames:{root:"disabled:!text-black/60"},children:s.jsx(d.JO,{icon:"ph:code-bold",width:"1.2rem",height:"1.2rem",className:"cursor-default"})})]})]});var h=t(44487),g=t(63807);let x=({name:e,onSyntaxSubmit:a,onSemanticSubmit:t})=>{let l=(0,g.useParams)(),r=l.cycle_id,n=l.stage_uuid;return(0,s.jsxs)("div",{className:"text-right ml-auto space-x-4 mt-4",children:[s.jsx(h.z,{id:e,"data-cycle_id":r,"data-stage_uuid":n,color:"var(--fc-brand-700)",radius:"md",className:"!font-normal",onClick:a,children:"Verify syntax"}),s.jsx(h.z,{id:e,"data-cycle_id":r,"data-stage_uuid":n,color:"var(--fc-brand-700)",radius:"md",className:"!font-normal",onClick:t,children:"Evaluate semantics"})]})};var f=t(57971),_=t(82254),y=t(52022),j=t(41100);let v=e=>{let{isEditable:a,toggleIsEditable:t,allowEdit:d}=e,{ref:c,height:u}=(0,_.h)(),{handleSubmit:m,setFocus:b}=(0,i.Gc)(),h=d?"block":"none";return n.useEffect(()=>{a&&b(e.name)},[b,a,e.name]),"text"===e.type||"email"===e.type?(0,s.jsxs)(l.S,{ref:c,label:e.label,classNames:{root:"relative mx-14 space-y-4",label:"!text-sm !font-semibold"},children:[s.jsx(j.Z,{label:e.label}),s.jsx(o.oi,{id:e.name,disabled:!a,name:e.name,type:e.type,placeholder:e.label,control:e.control,radius:e.radius||"md",classNames:{wrapper:"w-full",input:"!rounded-lg !p-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black",...e.classNames},rightSectionWidth:72,rightSection:a&&s.jsx(p,{name:e.name,type:"text",hidden:!a,onCancel:t})}),a&&s.jsx(x,{name:e.name,value:e.value,onSyntaxSubmit:m(f.T),onSemanticSubmit:m(f.as)}),!a&&s.jsx(r.a,{display:h,color:"transparent",h:u-50,top:34,backgroundOpacity:0,blur:0,onClick:t,classNames:{root:"cursor-pointer rounded-lg"}})]}):"json"===e.type?(0,s.jsxs)(l.S,{ref:c,label:e.label,classNames:{root:"relative mx-14",label:"!text-sm !font-semibold"},children:[s.jsx(j.Z,{label:e.label}),s.jsx(y.Z,{actionsButton:s.jsx(p,{name:e.name,type:"json",copyValue:JSON.stringify(e.value,null,2),hidden:!a,onCancel:t})}),s.jsx(o.qf,{id:e.name,name:e.name,defaultValue:JSON.stringify(e.value,null,2),control:e.control,disabled:!a,formatOnBlur:!0,autosize:!0,minRows:4,classNames:{input:"!rounded-none !rounded-b-lg !h-32 p-4 w-full focus:outline-none focus:!ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black"}}),a&&s.jsx(x,{name:e.name,value:JSON.stringify(e.value,null,2),onSyntaxSubmit:m(f.T),onSemanticSubmit:m(f.as)}),!a&&s.jsx(r.a,{display:h,color:"transparent",h:u-80,top:80,backgroundOpacity:0,blur:0,onClick:t,classNames:{root:"cursor-pointer rounded-lg"}})]}):"password"===e.type?(0,s.jsxs)(l.S,{ref:c,label:e.label,classNames:{root:"relative mx-14 space-y-4",label:"!text-sm !font-semibold"},children:[s.jsx(j.Z,{label:e.label}),s.jsx(o.WU,{id:e.name,disabled:!a,name:e.name,type:e.type,placeholder:e.label,control:e.control,radius:e.radius||"md",classNames:{wrapper:"w-full",input:"!rounded-lg !p-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black",...e.classNames},rightSectionWidth:72,rightSection:a&&s.jsx(p,{name:e.name,type:"text",hidden:!a,onCancel:t})}),a&&s.jsx(x,{name:e.name,value:e.value,onSyntaxSubmit:m(f.T),onSemanticSubmit:m(f.as)}),!a&&s.jsx(r.a,{display:h,color:"transparent",h:u-50,top:34,backgroundOpacity:0,blur:0,onClick:t,classNames:{root:"cursor-pointer rounded-lg"}})]}):e.type?null:(0,s.jsxs)(l.S,{label:e.label,classNames:{root:"px-14",label:"!text-sm !font-semibold"},children:[s.jsx(j.Z,{label:e.label}),s.jsx(f.IG,{data:e.value})]})}},52022:(e,a,t)=>{t.d(a,{Z:()=>i});var s=t(8973),l=t(52121),r=t(97049),n=t(37585);let i=({table:e,actionsButton:a})=>{let t=!!e;return s.jsx("div",{className:(0,r.Z)("relative flex bg-[#D9D9D9] rounded-t-lg mt-4 min-h-10",t&&"-mb-4"),children:(0,s.jsxs)(l.Flex,{justify:"space-between",align:"center",classNames:{root:(0,r.Z)("py-1 px-2 w-full",t&&"!py-0")},children:[t&&s.jsx(n.TY,{autoContrast:!0,table:e,color:"var(--fc-brand-700)",classNames:{root:""}}),a]})})}},49313:(e,a,t)=>{t.d(a,{Z:()=>l});var s=t(75905);let l=e=>{let[a,t]=s.useState({});return{isEditable:a,toggleIsEditable:a=>{t(t=>({...e?.multiple&&{...t},[a]:!t[a]}))},reset:()=>{t({})}}}},71258:(e,a,t)=>{t.d(a,{nK:()=>s,pi:()=>r,sg:()=>l});let s=e=>e&&0===Object.keys(e).length&&e.constructor===Object;function l(e,a){let t={};return e.forEach(e=>{t[e.id]={stage_name:e.data.label,stage_uuid:e.id,list_prev:[],list_next:[],duplicate_from:e.data.duplicate_from??""}}),a.forEach(e=>{t[e.target]&&t[e.target].list_prev.push(e.source),t[e.source]&&t[e.source].list_next.push(e.target)}),Object.values(t)}let r=e=>{let a=new Date,t=new Date(e),s=Math.floor((a.getTime()-t.getTime())/1e3);if(s<60)return`${s} second${1!==s?"s":""} ago`;let l=Math.floor(s/60);if(l<60)return`${l} minute${1!==l?"s":""} ago`;let r=Math.floor(l/60);if(r<24)return`${r} hour${1!==r?"s":""} ago`;let n=Math.floor(r/24);if(n<7)return`${n} day${1!==n?"s":""} ago`;let i=Math.floor(n/7);if(i<4)return`${i} week${1!==i?"s":""} ago`;let o=Math.floor(n/30);if(o<12)return`${o} month${1!==o?"s":""} ago`;let d=Math.floor(n/365);return`${d} year${1!==d?"s":""} ago`}},82254:(e,a,t)=>{t.d(a,{h:()=>r});var s=t(75905);let l={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function r(e){let[a,{width:t,height:r}]=function(e){(0,s.useRef)(0);let a=(0,s.useRef)(null),[t,r]=(0,s.useState)(l);return(0,s.useMemo)(()=>null,[]),[a,t]}(0);return{ref:a,width:t,height:r}}}};