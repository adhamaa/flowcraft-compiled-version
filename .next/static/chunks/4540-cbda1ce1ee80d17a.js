"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4540],{83710:function(e,t,a){a.d(t,{IG:function(){return D},default:function(){return T},as:function(){return L},T:function(){return M}});var n=a(66628),r=a(78010),s=a(46024),l=a(42220),i=a(7745),o=a(39115),c=a(53175),d=a(49570),u=a(16417);let[m,b]=(0,a(17233).R)("List component was not found in tree");var f={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};let p={},h=(0,u.d5)((e,t)=>{let{classNames:a,className:r,style:s,styles:l,vars:i,icon:c,children:u,mod:m,...f}=(0,o.w)("ListItem",p,e),h=b(),g=c||h.icon,x={classNames:a,styles:l};return(0,n.jsx)(d.x,{...h.getStyles("item",{...x,className:r,style:s}),component:"li",mod:[{"with-icon":!!g,centered:h.center},m],ref:t,...f,children:(0,n.jsxs)("div",{...h.getStyles("itemWrapper",x),children:[g&&(0,n.jsx)("span",{...h.getStyles("itemIcon",x),children:g}),(0,n.jsx)("span",{...h.getStyles("itemLabel",x),children:u})]})})});h.classes=f,h.displayName="@mantine/core/ListItem";let g={type:"unordered"},x=(0,i.Z)((e,t)=>{let{size:a,spacing:n}=t;return{root:{"--list-fz":(0,l.yv)(a),"--list-lh":(0,l.Dp)(a),"--list-spacing":(0,l.bG)(n)}}}),_=(0,u.d5)((e,t)=>{let a=(0,o.w)("List",g,e),{classNames:r,className:s,style:l,styles:i,unstyled:u,vars:b,children:p,type:h,withPadding:_,icon:y,spacing:v,center:j,listStyleType:w,mod:S,...k}=a,N=(0,c.y)({name:"List",classes:f,props:a,className:s,style:l,classNames:r,styles:i,unstyled:u,vars:b,varsResolver:x});return(0,n.jsx)(m,{value:{center:j,icon:y,getStyles:N},children:(0,n.jsx)(d.x,{...N("root",{style:{listStyleType:w}}),component:"unordered"===h?"ul":"ol",mod:[{"with-padding":_},S],ref:t,...k,children:p})})});_.classes=f,_.displayName="@mantine/core/List",_.Item=h;var y=a(12706),v=a(62159),j=a(51747),w=a(51828),S=a(7539),k=a(43182),N=a(82746),Z=a(26933),C=a(96656),F=a(38352),O=a(49326),P=a(58635),$=a(80184),z=a(19660),q=a(89815),A=a(55527),E=a(40623),I=a(14918),J=a(95559),R=a(78089),T=()=>{let[e,{open:t,close:a,toggle:l}]=(0,k.q)(!1),[i,o]=s.useState();(0,J.nK)(i);let c=(0,Z.useSearchParams)(),d=(0,Z.useParams)();(0,Z.usePathname)();let u=c.get("selected_app"),m=c.get("data_source"),b=d.cycle_id,f=d.stage_uuid;return s.useEffect(()=>{async function e(){o(await (0,$.w9)({stage_uuid:f,cycle_id:b,apps_label:u,datasource_type:m}))}b&&u&&m&&f&&e()},[b,m,u,f]),e?(0,n.jsx)(r.u,{opened:e,onClose:a,fullScreen:!0,radius:0,transitionProps:{transition:"fade",duration:200},withCloseButton:!1,children:(0,n.jsx)(B,{data:i,open:t,close:a,toggle:l})}):(0,n.jsx)(B,{data:i,open:t,close:a,toggle:l})};let M=async(e,t)=>{let a=t.target.offsetParent.id,r="process_stage_name"===a?e[a]:JSON.parse(e[a]);"process_stage_name"===a?await (0,$.zm)({params:{stage_name:r}}).then(async e=>{e.error?(z.Z.error(e.message),await (0,$.Xc)({params:{error_message_uuid:e.uuid_error}}).then(e=>{q.qk.open({title:"Syntax errors",children:(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>{let{error_message:a}=e;return(0,n.jsx)(_,{type:"ordered",withPadding:!0,children:(0,n.jsxs)(_.Item,{children:[t+1,". ",a]})},t)}),(0,n.jsx)(y.Flex,{gap:16,justify:"end",mt:"md",children:(0,n.jsx)(v.z,{onClick:()=>q.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{z.Z.error("Failed to get error messages\n"+e)})):z.Z.success(e.message)}).catch(e=>{z.Z.error("Failed to test stage name\n"+e)}):await (0,$.in)({body:{str_test_syntax:r}}).then(async e=>{e.error?(z.Z.error(e.message),await (0,$.Xc)({params:{error_message_uuid:e.list_error_no}}).then(e=>{q.qk.open({title:"Syntax errors",children:(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>{let{error_message:a}=e;return(0,n.jsx)(_,{type:"ordered",withPadding:!0,children:(0,n.jsxs)(_.Item,{children:[t+1,". ",a]})},t)}),(0,n.jsx)(y.Flex,{gap:16,justify:"end",mt:"md",children:(0,n.jsx)(v.z,{onClick:()=>q.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{z.Z.error("Failed to get error messages\n"+e)})):z.Z.success(e.message)}).catch(e=>{z.Z.error("Failed to verify syntax\n"+e)})},L=async(e,t)=>{let a=t.target.offsetParent.id,r=t.target.offsetParent.dataset.cycle_id,s="process_stage_name"===a?e[a]:JSON.parse(e[a]),l=t.target.offsetParent.dataset.stage_uuid;"process_stage_name"===a?await (0,$.q2)({params:{stage_name:s,cycle_id:r}}).then(async e=>{e.error?(z.Z.error(e.message),await (0,$.Cp)({params:{error_message_uuid:e.uuid_error}}).then(e=>{q.qk.open({title:"Semantic errors",children:(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>{let{error_message:a}=e;return(0,n.jsx)(_,{type:"ordered",withPadding:!0,children:(0,n.jsxs)(_.Item,{children:[t+1,". ",a]})},t)}),(0,n.jsx)(y.Flex,{gap:16,justify:"end",mt:"md",children:(0,n.jsx)(v.z,{onClick:()=>q.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{z.Z.error("Failed to get error messages\n"+e)})):z.Z.success(e.message)}).catch(e=>{z.Z.error("Failed to test stage name\n"+e)}):await (0,$.BI)({body:{str_test_semantic:s,current_stage:l,current_key:a}}).then(async e=>{e.error?(z.Z.error(e.message),await (0,$.Cp)({params:{error_message_uuid:e.list_error_no}}).then(e=>{q.qk.open({title:"Semantic errors",children:(0,n.jsxs)(n.Fragment,{children:[e.map((e,t)=>{let{error_message:a}=e;return(0,n.jsx)(_,{type:"ordered",withPadding:!0,children:(0,n.jsxs)(_.Item,{children:[t+1,". ",a]})},t)}),(0,n.jsx)(y.Flex,{gap:16,justify:"end",mt:"md",children:(0,n.jsx)(v.z,{onClick:()=>q.qk.closeAll(),color:"var(--fc-brand-700)",radius:"md",children:"Close"})})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})}).catch(e=>{z.Z.error("Failed to get error messages\n"+e)})):z.Z.success(e.message)}).catch(e=>{z.Z.error("Failed to evaluate semantics\n"+e)})},B=e=>{var t;let{data:a,toggle:r}=e,{data:s}=(0,I.kP)(),l=null==s?void 0:null===(t=s.user)||void 0===t?void 0:t.user_id,i=(0,Z.usePathname)(),o=(0,Z.useParams)(),c=(0,Z.useSearchParams)(),d="".concat(i,"?").concat(c),u=o.stage_uuid,m=o.cycle_id,b=c.get("data_source"),f=i.includes("deleted"),p=[{name:"process_stage_name",label:"Stage name",type:"text",value:null==a?void 0:a.process_stage_name,disabled:!1},{name:"updated_datetime",label:"Last edited date",type:"text",value:null==a?void 0:a.updated_datetime,disabled:!0},{name:"list_previous",label:"List of previous stage",type:null,value:null==a?void 0:a.list_previous,disabled:!0},{name:"list_next_stage",label:"List of next stage",type:null,value:null==a?void 0:a.list_next_stage,disabled:!0},{name:"list_user",label:"Users",type:"json",value:null==a?void 0:a.list_user,disabled:!1},{name:"list_pbt",label:"PBT",type:"json",value:null==a?void 0:a.list_pbt,disabled:!1},{name:"list_role",label:"Roles",type:"json",value:null==a?void 0:a.list_role,disabled:!1},{name:"list_requirement",label:"Requirements",type:"json",value:null==a?void 0:a.list_requirement,disabled:!1},{name:"list_action",label:"Action",type:"json",value:null==a?void 0:a.list_action,disabled:!1},{name:"list_entry_condition",label:"Entry condition",type:"json",value:null==a?void 0:a.list_entry_condition,disabled:!1},{name:"list_exit_condition",label:"Exit condition",type:"json",value:null==a?void 0:a.list_exit_condition,disabled:!1}],h=(0,F.cI)({defaultValues:{process_stage_name:"",updated_datetime:"",list_previous:"",list_next_stage:"",list_user:"",list_pbt:"",list_role:"",list_requirement:"",list_action:"",list_entry_condition:"",list_exit_condition:""},values:{process_stage_name:null==a?void 0:a.process_stage_name,updated_datetime:null==a?void 0:a.updated_datetime,list_previous:null==a?void 0:a.list_previous,list_next_stage:null==a?void 0:a.list_next_stage,list_user:JSON.stringify(null==a?void 0:a.list_user,null,2),list_pbt:JSON.stringify(null==a?void 0:a.list_pbt,null,2),list_role:JSON.stringify(null==a?void 0:a.list_role,null,2),list_requirement:JSON.stringify(null==a?void 0:a.list_requirement,null,2),list_action:JSON.stringify(null==a?void 0:a.list_action,null,2),list_entry_condition:JSON.stringify(null==a?void 0:a.list_entry_condition,null,2),list_exit_condition:JSON.stringify(null==a?void 0:a.list_exit_condition,null,2)}}),{handleSubmit:g,setValue:x}=h,{isEditable:_,toggleIsEditable:S}=(0,R.Z)(),k=async(e,t)=>{var a;let r=t.nativeEvent.submitter.id,s="process_stage_name"===r?e[r]:JSON.parse(e[r]),i=null===(a=p.find(e=>e.name===r))||void 0===a?void 0:a.label;q.qk.open({onClose:null==S?void 0:S(r),title:"Confirm update",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(j.x,{size:"sm",children:["Are you sure you want to update ",(0,n.jsx)("strong",{children:i}),"?"]}),(0,n.jsxs)(y.Flex,{gap:16,justify:"end",mt:"md",children:[(0,n.jsx)(v.z,{onClick:()=>q.qk.closeAll(),color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",children:"Cancel"}),(0,n.jsx)(v.z,{onClick:async()=>{let e,t;"process_stage_name"===r?(e=await (0,$.zm)({params:{stage_name:s}}).then(e=>(e.error?z.Z.error(e.message):z.Z.success(e.message),e.result)).catch(e=>{z.Z.error("Failed to test syntax on stage name\n"+e)}).finally(()=>{q.qk.closeAll()}),t=await (0,$.q2)({params:{stage_name:s,cycle_id:m}}).then(e=>(e.error?z.Z.error(e.message):z.Z.success(e.message),e.result)).catch(e=>{z.Z.error("Failed to test semantics on stage name\n"+e)}).finally(()=>{q.qk.closeAll()}),e&&t?await (0,$.xn)({stage_uuid:u,field_name:r,body:{value:s}}).then(async()=>{z.Z.success("".concat(i," updated successfully")),await (0,$.Vh)({action:"update_stage_info",location_url:d,object:"src/app/cycle/_components/Forms/EditForm.tsx",process_state:"TRIGGERAPI",sysfunc:'"onSaveSubmit" func ',userid:l,sysapp:"FLOWCRAFTBUSINESSPROCESS",notes:'stage info "'.concat(i,'" updated successfully'),json_object:{stage_uuid:u,field_name:r,value:s}})}).catch(e=>{z.Z.error("Failed to update stage\n"+e)}).finally(()=>{q.qk.closeAll()}):z.Z.error("Failed to update ".concat(i))):e=await (0,$.in)({body:{str_test_syntax:s}}).then(async e=>(e.error?z.Z.error(e.message):z.Z.success(e.message),e.result)).catch(e=>{z.Z.error("Failed to verify syntax\n"+e)}).finally(()=>{q.qk.closeAll()}),t=await (0,$.BI)({body:{str_test_semantic:s,current_stage:u,current_key:r}}).then(async e=>(e.error?z.Z.error(e.message):z.Z.success(e.message),e.result)).catch(e=>{z.Z.error("Failed to evaluate semantics\n"+e)}).finally(()=>{q.qk.closeAll()}),e&&t?await (0,$.xn)({stage_uuid:u,field_name:r,body:{value:s}}).then(async()=>{z.Z.success("".concat(i," updated successfully")),await (0,$.Vh)({action:"update_stage_info",location_url:d,object:"src/app/cycle/_components/Forms/EditForm.tsx",process_state:"TRIGGERAPI",sysfunc:'"onSaveSubmit" func ',userid:l,sysapp:"FLOWCRAFTBUSINESSPROCESS",notes:'stage info "'.concat(i,'" updated successfully'),json_object:{stage_uuid:u,field_name:r,value:s}})}).catch(e=>{z.Z.error("Failed to update stage\n"+e)}).finally(()=>{q.qk.closeAll()}):z.Z.error("Failed to update ".concat(i))},color:"var(--fc-brand-700)",radius:"md",children:"Yes"})]})]}),overlayProps:{backgroundOpacity:.55,blur:10},radius:"md"})};return(0,N.a)("(max-height: 768px)"),(0,n.jsx)(w.ScrollAreaAutosize,{children:(0,n.jsx)(F.RV,{...h,children:(0,n.jsxs)("form",{className:(0,P.Z)("space-y-4 h-[calc(100vh-146.5px)]"),onSubmit:g(k),children:[(0,n.jsx)(C.Z,{type:"stages",toggleExpand:r}),(0,n.jsx)("div",{className:"container mx-auto space-y-8 py-4",children:null==p?void 0:p.map((e,t)=>(0,n.jsx)(A.Z,{allowEdit:"database"===b&&!e.disabled&&!f,...e,isEditable:_[e.name],toggleIsEditable:()=>S(e.name)},t))})]})})})},D=e=>{let{data:t}=e,[a,r]=s.useState({pageSize:5,pageIndex:0}),[l,i]=s.useState([]),o=[{header:"Stage Name",accessorFn:e=>e.process_stage_name},{header:"Date created",accessorFn:e=>e.created_datetime}],c=(0,O.Un)({columns:s.useMemo(()=>o,[o]),data:s.useMemo(()=>l,[l]),initialState:{density:"xs"},onPaginationChange:r,state:{pagination:a},enableSorting:!1,enableTopToolbar:!1,enableBottomToolbar:!1,enableColumnActions:!1,enableStickyHeader:!0,mantineTableContainerProps:{mah:"150",px:"32"},mantinePaginationProps:{rowsPerPageOptions:["5","10","15"],showRowsPerPage:!1},paginationDisplayMode:"pages",mantinePaperProps:{classNames:{root:"!border-none !shadow-none w-full"}},mantineTableBodyRowProps:e=>{let{row:t}=e;return{classNames:{tr:"!border-none"}}}});return s.useEffect(()=>{t&&i(t)},[t]),(0,n.jsxs)(S.K,{children:[(0,n.jsx)(E.Z,{table:c}),(0,n.jsx)(O.ZO,{table:c})]})}},96656:function(e,t,a){var n=a(66628),r=a(8793),s=a(62159),l=a(58635),i=a(26933);a(46024),t.Z=e=>{let{toggleEdit:t,isEdit:a,toggleExpand:o,type:c,isFullscreen:d}=e,u=(0,i.useSearchParams)(),m=(0,i.usePathname)(),b="database"===u.get("data_source"),f="profile"===c,p="stages"===c,h="general"===c;if(!c)throw Error("type is required");let g=[{label:"Duplicate",type:"button",disabled:p&&!a,canShow:b&&p&&!a,onClick:()=>{},variant:"filled",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:(0,n.jsx)(r.JO,{width:"1rem",icon:"heroicons-outline:duplicate"})},{label:"Delete",type:"button",disabled:!0,canShow:b&&!a,onClick:()=>{},variant:"filled",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:(0,n.jsx)(r.JO,{width:"1rem",icon:"heroicons-outline:trash"})},{label:"Edit",type:"button",disabled:!1,canShow:!!t&&(b||f)&&!a,onClick:t,variant:"filled",color:f?"var(--fc-neutral-100)":"var(--fc-brand-700)",c:f?"var(--fc-neutral-900)":"default",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},icon:(0,n.jsx)(r.JO,{width:"1rem",icon:"heroicons-outline:pencil-alt"})},{label:"Close",type:"button",disabled:!1,canShow:b&&p&&a,onClick:t,variant:"white",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}},{label:"Save",type:"submit",disabled:!1,canShow:(b&&h||f)&&a,onClick:()=>{},variant:"filled",color:"var(--fc-brand-700)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}},{label:"Cancel",type:"button",disabled:!1,canShow:(b&&h||f)&&a,onClick:t,variant:"white",color:"var(--fc-neutral-100)",c:"var(--fc-neutral-900)",radius:"md",size:"sm",fz:14,classNames:{root:"disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"}}];return(0,n.jsxs)("div",{className:(0,l.Z)("flex px-14 py-6 items-center border-b",b&&h&&"justify-end"),children:[f?m.includes("/profile")?(0,n.jsx)("h1",{className:"text-2xl font-semibold mr-auto",children:"Profile Details"}):m.includes("/security")?(0,n.jsx)("h1",{className:"text-2xl font-semibold mr-auto",children:"Change Password"}):m.includes("/activities")?(0,n.jsx)("h1",{className:"text-2xl font-semibold mr-auto",children:"Activity Timeline"}):null:null,(b||f)&&(0,n.jsx)(n.Fragment,{children:h||f?(0,n.jsx)("div",{className:"flex gap-4",children:g.map((e,t)=>{let{label:a,canShow:r,icon:l,...i}=e;return r&&(0,n.jsx)(s.z,{...i,leftSection:l,children:a},t)})}):(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Stage Information"})}),!b&&(0,n.jsxs)(n.Fragment,{children:[h&&(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"General Information"}),p&&(0,n.jsx)("h1",{className:"text-2xl font-semibold",children:"Stage Information"})]})]})}},86954:function(e,t,a){a.d(t,{Z:function(){return l}});var n=a(66628),r=a(8793),s=a(46738);let l=e=>{let{onMouseEnter:t,label:a}=e;return(0,n.jsx)(s.u,{label:a,children:(0,n.jsx)(r.JO,{icon:"mingcute:information-fill",width:"0.7rem",height:"0.7rem",className:"!mb-2 !ml-0.5 cursor-pointer text-black/80 hover:text-black/70",onMouseEnter:t})})}},55527:function(e,t,a){a.d(t,{Z:function(){return j}});var n=a(66628),r=a(4035),s=a(90830),l=a(46024),i=a(38352),o=a(73610),c=a(8793),d=a(46738),u=a(6906),m=a(18544),b=a(58635),f=e=>{let{name:t,copyValue:a,hidden:r,onCancel:s,type:l}=e;return(0,n.jsxs)("div",{className:(0,b.Z)("flex items-center ml-auto space-x-1.5","text"===l&&"absolute right-2"),children:[!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.u,{label:"Save",children:(0,n.jsx)(u.A,{id:t,component:"button",type:"submit",variant:"transparent",bg:"var(--fc-neutral-100)",color:"black",size:"lg",radius:"md","aria-label":"Settings",children:(0,n.jsx)(c.JO,{icon:"heroicons-outline:check",width:"1.2rem",className:"border p-2 rounded-lg text-black/70 hover:text-black"})})}),(0,n.jsx)(d.u,{label:"Cancel",children:(0,n.jsx)(u.A,{id:t,variant:"transparent",bg:"var(--fc-neutral-100)",color:"black",size:"lg",radius:"md","aria-label":"Settings",onClick:s,children:(0,n.jsx)(c.JO,{icon:"heroicons-outline:x",width:"1.2rem",className:"border p-2 rounded-lg text-black/70 hover:text-black"})})})]}),"json"===l&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.q,{value:a,timeout:2e3,children:e=>{let{copied:t,copy:a}=e;return(0,n.jsx)(d.u,{label:t?"Copied":"Copy",children:(0,n.jsx)(u.A,{color:"black",variant:"transparent",bg:t?"#c5aff9":"var(--fc-neutral-100)",size:"lg",radius:"md",onClick:a,children:t?(0,n.jsx)(c.JO,{icon:"heroicons-outline:check",width:"1.2rem",height:"1.2rem",className:"text-black/70 hover:text-black"}):(0,n.jsx)(c.JO,{icon:"heroicons-outline:document-duplicate",width:"1.2rem",height:"1.2rem",className:"text-black/70 hover:text-black"})})})}}),(0,n.jsx)(u.A,{disabled:!0,color:"black",variant:"subtle",size:"lg",bg:"transparent",radius:"md",classNames:{root:"disabled:!text-black/60"},children:(0,n.jsx)(c.JO,{icon:"ph:code-bold",width:"1.2rem",height:"1.2rem",className:"cursor-default"})})]})]})},p=a(62159),h=a(26933),g=e=>{let{name:t,onSyntaxSubmit:a,onSemanticSubmit:r}=e,s=(0,h.useParams)(),l=s.cycle_id,i=s.stage_uuid;return(0,n.jsxs)("div",{className:"text-right ml-auto space-x-4 mt-4",children:[(0,n.jsx)(p.z,{id:t,"data-cycle_id":l,"data-stage_uuid":i,color:"var(--fc-brand-700)",radius:"md",className:"!font-normal",onClick:a,children:"Verify syntax"}),(0,n.jsx)(p.z,{id:t,"data-cycle_id":l,"data-stage_uuid":i,color:"var(--fc-brand-700)",radius:"md",className:"!font-normal",onClick:r,children:"Evaluate semantics"})]})},x=a(83710),_=a(19301),y=a(40623),v=a(86954),j=e=>{let{isEditable:t,toggleIsEditable:a,allowEdit:c}=e,{ref:d,height:u}=(0,_.h)(),{handleSubmit:m,setFocus:b}=(0,i.Gc)(),p=c?"block":"none";return l.useEffect(()=>{t&&b(e.name)},[b,t,e.name]),"text"===e.type||"email"===e.type?(0,n.jsxs)(r.S,{ref:d,label:e.label,classNames:{root:"relative mx-14 space-y-4",label:"!text-sm !font-semibold"},children:[(0,n.jsx)(v.Z,{label:e.label}),(0,n.jsx)(o.oi,{id:e.name,disabled:!t,name:e.name,type:e.type,placeholder:e.label,control:e.control,radius:e.radius||"md",classNames:{wrapper:"w-full",input:"!rounded-lg !p-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black",...e.classNames},rightSectionWidth:72,rightSection:t&&(0,n.jsx)(f,{name:e.name,type:"text",hidden:!t,onCancel:a})}),t&&(0,n.jsx)(g,{name:e.name,value:e.value,onSyntaxSubmit:m(x.T),onSemanticSubmit:m(x.as)}),!t&&(0,n.jsx)(s.a,{display:p,color:"transparent",h:u-50,top:34,backgroundOpacity:0,blur:0,onClick:a,classNames:{root:"cursor-pointer rounded-lg"}})]}):"json"===e.type?(0,n.jsxs)(r.S,{ref:d,label:e.label,classNames:{root:"relative mx-14",label:"!text-sm !font-semibold"},children:[(0,n.jsx)(v.Z,{label:e.label}),(0,n.jsx)(y.Z,{actionsButton:(0,n.jsx)(f,{name:e.name,type:"json",copyValue:JSON.stringify(e.value,null,2),hidden:!t,onCancel:a})}),(0,n.jsx)(o.qf,{id:e.name,name:e.name,defaultValue:JSON.stringify(e.value,null,2),control:e.control,disabled:!t,formatOnBlur:!0,autosize:!0,minRows:4,classNames:{input:"!rounded-none !rounded-b-lg !h-32 p-4 w-full focus:outline-none focus:!ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black"}}),t&&(0,n.jsx)(g,{name:e.name,value:JSON.stringify(e.value,null,2),onSyntaxSubmit:m(x.T),onSemanticSubmit:m(x.as)}),!t&&(0,n.jsx)(s.a,{display:p,color:"transparent",h:u-80,top:80,backgroundOpacity:0,blur:0,onClick:a,classNames:{root:"cursor-pointer rounded-lg"}})]}):"password"===e.type?(0,n.jsxs)(r.S,{ref:d,label:e.label,classNames:{root:"relative mx-14 space-y-4",label:"!text-sm !font-semibold"},children:[(0,n.jsx)(v.Z,{label:e.label}),(0,n.jsx)(o.WU,{id:e.name,disabled:!t,name:e.name,type:e.type,placeholder:e.label,control:e.control,radius:e.radius||"md",classNames:{wrapper:"w-full",input:"!rounded-lg !p-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black",...e.classNames},rightSectionWidth:72,rightSection:t&&(0,n.jsx)(f,{name:e.name,type:"text",hidden:!t,onCancel:a})}),t&&(0,n.jsx)(g,{name:e.name,value:e.value,onSyntaxSubmit:m(x.T),onSemanticSubmit:m(x.as)}),!t&&(0,n.jsx)(s.a,{display:p,color:"transparent",h:u-50,top:34,backgroundOpacity:0,blur:0,onClick:a,classNames:{root:"cursor-pointer rounded-lg"}})]}):e.type?null:(0,n.jsxs)(r.S,{label:e.label,classNames:{root:"px-14",label:"!text-sm !font-semibold"},children:[(0,n.jsx)(v.Z,{label:e.label}),(0,n.jsx)(x.IG,{data:e.value})]})}},40623:function(e,t,a){var n=a(66628),r=a(12706),s=a(58635),l=a(49326);t.Z=e=>{let{table:t,actionsButton:a}=e,i=!!t;return(0,n.jsx)("div",{className:(0,s.Z)("relative flex bg-[#D9D9D9] rounded-t-lg mt-4 min-h-10",i&&"-mb-4"),children:(0,n.jsxs)(r.Flex,{justify:"space-between",align:"center",classNames:{root:(0,s.Z)("py-1 px-2 w-full",i&&"!py-0")},children:[i&&(0,n.jsx)(l.TY,{autoContrast:!0,table:t,color:"var(--fc-brand-700)",classNames:{root:""}}),a]})})}},19660:function(e,t,a){var n=a(66628),r=a(8793),s=a(25755);t.Z={success:e=>{s.N9.show({icon:(0,n.jsx)(r.JO,{icon:"heroicons-solid:check-circle",width:"2rem",height:"2rem"}),message:e,classNames:{root:"before:bg-transparent rounded-lg",icon:"bg-white text-teal-400"}})},error:e=>{s.N9.show({icon:(0,n.jsx)(r.JO,{icon:"heroicons-solid:x-circle",width:"2rem",height:"2rem"}),message:e,classNames:{root:"before:bg-transparent rounded-lg",icon:"bg-white text-red-400"}})},warning:e=>{s.N9.show({icon:(0,n.jsx)(r.JO,{icon:"heroicons-solid:exclamation-circle",width:"2rem",height:"2rem"}),message:e,classNames:{root:"before:bg-transparent rounded-lg",icon:"bg-white text-yellow-400"}})}}},78089:function(e,t,a){var n=a(46024);t.Z=e=>{let[t,a]=n.useState({});return{isEditable:t,toggleIsEditable:t=>{a(a=>({...(null==e?void 0:e.multiple)&&{...a},[t]:!a[t]}))},reset:()=>{a({})}}}},95559:function(e,t,a){a.d(t,{nK:function(){return n},pi:function(){return s},sg:function(){return r}});let n=e=>e&&0===Object.keys(e).length&&e.constructor===Object;function r(e,t){let a={};return e.forEach(e=>{var t;a[e.id]={stage_name:e.data.label,stage_uuid:e.id,list_prev:[],list_next:[],duplicate_from:null!==(t=e.data.duplicate_from)&&void 0!==t?t:""}}),t.forEach(e=>{a[e.target]&&a[e.target].list_prev.push(e.source),a[e.source]&&a[e.source].list_next.push(e.target)}),Object.values(a)}let s=e=>{let t=new Date,a=new Date(e),n=Math.floor((t.getTime()-a.getTime())/1e3);if(n<60)return"".concat(n," second").concat(1!==n?"s":""," ago");let r=Math.floor(n/60);if(r<60)return"".concat(r," minute").concat(1!==r?"s":""," ago");let s=Math.floor(r/60);if(s<24)return"".concat(s," hour").concat(1!==s?"s":""," ago");let l=Math.floor(s/24);if(l<7)return"".concat(l," day").concat(1!==l?"s":""," ago");let i=Math.floor(l/7);if(i<4)return"".concat(i," week").concat(1!==i?"s":""," ago");let o=Math.floor(l/30);if(o<12)return"".concat(o," month").concat(1!==o?"s":""," ago");let c=Math.floor(l/365);return"".concat(c," year").concat(1!==c?"s":""," ago")}},80184:function(e,t,a){a.d(t,{A6:function(){return F},AY:function(){return s},B7:function(){return m},BI:function(){return _},Cp:function(){return y},GL:function(){return f},GX:function(){return N},JZ:function(){return o},Jx:function(){return q},M3:function(){return i},M_:function(){return O},PA:function(){return j},U1:function(){return b},Vh:function(){return S},Vp:function(){return k},X8:function(){return A},Xc:function(){return g},Xi:function(){return r},ZU:function(){return $},_y:function(){return d},bp:function(){return c},d5:function(){return Z},ek:function(){return P},in:function(){return h},mY:function(){return l},ow:function(){return z},q2:function(){return v},w9:function(){return u},xO:function(){return C},xn:function(){return p},xq:function(){return w},zm:function(){return x}}),a(63804);var n=a(44233),r=(0,n.$)("07fd71094c296382131ae74ad2984e00ce014dd9"),s=(0,n.$)("272b96a42ca94b0191405494003aadd08bad2365"),l=(0,n.$)("080ae4ee1f297589b0b9f25700ffb47f48782773"),i=(0,n.$)("9186f8e8ceec5e51c05d4ac327faebfe4ccf1129");(0,n.$)("427b730a1474e16aa451e977ddc02a8478a6b3f9");var o=(0,n.$)("61744b7b22be68545c3fd130ca85876d778429bc"),c=(0,n.$)("e87ef483b03d2ea9c078ed8a0ba274d92e78c23c"),d=(0,n.$)("cff6238c54e9f361e591c1e66a5135903bbfe4dd"),u=(0,n.$)("d6ca4ac908d414c7211ff320e7b16220034e3c7d"),m=(0,n.$)("b757b35b35a4386a4b9092be080773453389b5cb"),b=(0,n.$)("eba7413b57e02171d30406fe4947a0f7eb2703d6"),f=(0,n.$)("1428ed7ab66a956a38055adf6a8df43170874fc6"),p=(0,n.$)("0c5fd6b8e75d1a94b0bf92d7f9ad7844e74cf977"),h=(0,n.$)("77933a84b28cf622b2dba02d40a09f313e30651e"),g=(0,n.$)("d7c528da49173659187a5fb5cec24f22cab9072a"),x=(0,n.$)("6beb8ddf854fa69c122b86a91c0265c64c43cc33"),_=(0,n.$)("c78a5d8e11445e9dac53429f6e05b8081b8ebd4a"),y=(0,n.$)("962ce742d5cb17f22d59012020621ac1bcf8952e"),v=(0,n.$)("709fa232a4839ca0bb20ccfc5b6d90e1f0040dbe"),j=(0,n.$)("ee9cb352c81cb3c8bbdec486b3f10b4e42c86098"),w=(0,n.$)("a9ce1efcd83a14cd21a0aed41b576f46ccd29e5d"),S=(0,n.$)("b8605e39846778e97f8d7b4a921473b43af6fa0a"),k=(0,n.$)("16fca09bfdb8f96d2e5db151935a834b59321e93"),N=(0,n.$)("0d7f0367dd3a12bb447e43aba28788d912a59c5a"),Z=(0,n.$)("8217098c211656db7c520ab598f5428a2ed3dc7c"),C=(0,n.$)("cf93e1eef89c4a1f4152c54b96c183350fe4549a"),F=(0,n.$)("ce28763aee675e78b47316181eaf8241762aead9");(0,n.$)("123f4f142bcba1cfe87c3b814eeb78f8c2db0b1e"),(0,n.$)("261680d6fd1955cfb9d7c1180581aa708211695d");var O=(0,n.$)("698785d5b061b1ea5d2ca4cc0e5833f8bdfeb022"),P=(0,n.$)("9c7de0d66f94886f4cbd73da7ea0cfd7dece9a2b"),$=(0,n.$)("6c5a5dccba5b23ec6f3bce22d68e8464e8e5eb54"),z=(0,n.$)("552bbbe68d63eebb15cbfe2fa618ad3358cdb19b"),q=(0,n.$)("696bd584de94b84a6dc6458ad598b7d451d9a707"),A=(0,n.$)("7881f0128f8964dffab5baf936228e68cff1d349")},43182:function(e,t,a){a.d(t,{q:function(){return r}});var n=a(46024);function r(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,{onOpen:a,onClose:r}=t||{},[s,l]=(0,n.useState)(e),i=(0,n.useCallback)(()=>{l(e=>e||(null==a||a(),!0))},[a]),o=(0,n.useCallback)(()=>{l(e=>e?(null==r||r(),!1):e)},[r]),c=(0,n.useCallback)(()=>{s?o():i()},[o,i,s]);return[s,{open:i,close:o,toggle:c}]}},19301:function(e,t,a){a.d(t,{h:function(){return s}});var n=a(46024);let r={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function s(e){let[t,{width:a,height:s}]=function(e){let t=(0,n.useRef)(0),a=(0,n.useRef)(null),[s,l]=(0,n.useState)(r),i=(0,n.useMemo)(()=>"undefined"!=typeof window?new ResizeObserver(e=>{let n=e[0];n&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{a.current&&l(n.contentRect)}))}):null,[]);return(0,n.useEffect)(()=>(a.current&&(null==i||i.observe(a.current,e)),()=>{null==i||i.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[a.current]),[a,s]}(e);return{ref:t,width:a,height:s}}}}]);