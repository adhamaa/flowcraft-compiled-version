(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2442],{13239:function(e,t,n){Promise.resolve().then(n.bind(n,7328)),Promise.resolve().then(n.bind(n,30061)),Promise.resolve().then(n.bind(n,87488))},86954:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var a=n(66628),r=n(8793),o=n(46738);let s=e=>{let{onMouseEnter:t,label:n}=e;return(0,a.jsx)(o.u,{label:n,children:(0,a.jsx)(r.JO,{icon:"mingcute:information-fill",width:"0.7rem",height:"0.7rem",className:"!mb-2 !ml-0.5 cursor-pointer text-black/80 hover:text-black/70",onMouseEnter:t})})}},7328:function(e,t,n){"use strict";n.d(t,{default:function(){return P}});var a=n(66628),r=n(46024),o=n(77669),s=n(72850),l=n.n(s),i=n(26933),c=n(88512),d=n(58220),u=n(31280),h=n(31753),m=n(8551),b=n(56031),p=n(75698),f=n(57445),g=n.n(f),x=n(84280),v=n(25690),y=n(80184),w=n(89958);let j=new(g()).graphlib.Graph;j.setDefaultEdgeLabel(()=>({}));let _=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"TB",a="LR"===n;return j.setGraph({rankdir:n}),e.forEach(e=>{j.setNode(e.id,{width:250,height:200})}),t.forEach(e=>{j.setEdge(e.source,e.target)}),g().layout(j),e.forEach(e=>{let t=j.node(e.id);return e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-125,y:t.y-100},e}),{nodes:e,edges:t}},C=(0,m.Ue)()((0,p.tJ)((e,t)=>({nodes:x.Z,edges:v.Z,onNodesChange:n=>{e({nodes:(0,o.Fb)(n,t().nodes)})},onEdgesChange:n=>{e({edges:(0,o.yn)(n,t().edges)})},onConnect:n=>{e({edges:(0,o.Z_)(n,t().edges)})},onLayout:n=>{let{nodes:a,edges:r}=_(t().nodes,t().edges,n);e({nodes:a,edges:r})},setNodes:t=>{e({nodes:t})},setEdges:t=>{e({edges:t})},fetchNodesEdges:async n=>{let{cycle_id:a,apps_label:r}=n,o=t().onLayout,s=await (0,y.B7)({cycle_id:a,apps_label:r}),{nodes:l,edges:i}=_(s.nodes.map(e=>{let{position:t,...n}=e;return{...n,position:{x:0,y:0}}}),s.edges.map(e=>{let{type:t,markerEnd:n,...a}=e;return{...a}}));e({nodes:l,edges:i}),o("TB")},updateNodeColor:(n,a)=>{e({nodes:t().nodes.map(e=>(e.id===n&&(e.data={...e.data,color:a}),e))})}}),{name:"current-diagram-storage",storage:{getItem:e=>{let t=localStorage.getItem(e);return t?b.ZP.parse(t):null},setItem:(e,t)=>{localStorage.setItem(e,b.ZP.stringify(t))},removeItem:e=>localStorage.removeItem(e)}}));var E=()=>C((0,w.N)(e=>({nodes:e.nodes,edges:e.edges,onNodesChange:e.onNodesChange,onEdgesChange:e.onEdgesChange,onConnect:e.onConnect,onLayout:e.onLayout,fetchNodesEdges:e.fetchNodesEdges}))),S=n(9273);n(73271),n(65543);var N=n(23500);let k={Start:S.Z,WithEntry:S.Z,WithExit:S.Z,WithEntryAndExit:S.Z,End:S.Z,Standard:S.Z},Z={floating:u.Z};var A=function(){(0,i.useParams)();let e=(0,i.useSearchParams)(),t=e.get("cycle_id"),n=e.get("selected_app"),{nodes:s,edges:u,onNodesChange:m,onEdgesChange:b,onConnect:p,fetchNodesEdges:f}=E(),g=(0,o.AC)(),{isInteractive:x}=(0,o.oR)(e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable}),N.X),v=e=>g.setState({nodesDraggable:e,nodesConnectable:e,elementsSelectable:e}),y={animated:!1,type:"smoothstep",markerEnd:{type:o.QZ.Arrow}};return r.useEffect(()=>{x&&v(!1)},[]),(0,a.jsxs)("div",{className:"h-full space-y-6",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Current Cycle Diagram"}),(0,a.jsxs)("div",{className:"jsx-1ca6d7df803b47ae border border-black rounded-xl h-full",children:[(0,a.jsxs)(o.x$,{nodes:s,edges:u,onInit:e=>{f({cycle_id:t,apps_label:n})},onNodesChange:m,onEdgesChange:b,onConnect:p,fitView:!0,fitViewOptions:{padding:.2},defaultEdgeOptions:y,connectionLineComponent:h.Z,edgeTypes:Z,nodeTypes:k,nodesDraggable:!1,children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(d.Z,{showInteractive:!1})]}),(0,a.jsx)(l(),{id:"1ca6d7df803b47ae",children:".react-flow__panel.right{display:none}"})]})]})},P=()=>(0,a.jsx)(o.tV,{children:(0,a.jsx)(A,{})})},30061:function(e,t,n){"use strict";var a=n(66628);n(46024);var r=n(8793),o=n(46738),s=n(6906),l=n(26933),i=n(66254),c=n(35241);t.default=function(){let{url:e}=(0,c.j)(),t=e.prev,n=t===e.curr,d=(0,l.useRouter)(),u=(0,l.useParams)(),h=(0,l.useSearchParams)();u.cycle_uuid,h.get("cycle_id");let{currentCycleInfo:m}=(0,i.Z)(),b=null==m?void 0:m.cycle_name;return(0,a.jsxs)("div",{className:"row-span-1 col-span-3 flex items-center gap-4 p-8 border-b-2 h-24",children:[(0,a.jsx)(o.u,{label:"Back",children:(0,a.jsx)(s.A,{id:"Back",component:"button",type:"submit",variant:"transparent",color:"var(--fc-brand-700)",size:"2.5rem",radius:"md","aria-label":"Back",onClick:()=>n||!t?history.back():d.push(t),children:(0,a.jsx)(r.JO,{icon:"heroicons-solid:arrow-circle-left",width:"1.5rem",className:"hover:text-[#7d1aff]"})})}),(0,a.jsxs)("h1",{className:"text-xl font-bold",children:[" ",b]})]})}},87488:function(e,t,n){"use strict";n.d(t,{default:function(){return G}});var a=n(66628),r=n(46024),o=n(77669),s=n(72850),l=n.n(s),i=n(26933),c=n(88512),d=n(58220),u=n(31280),h=n(31753),m=n(66254),b=n(9273),p=n(23500);n(73271),n(65543);let f={Start:b.Z,WithEntry:b.Z,WithExit:b.Z,WithEntryAndExit:b.Z,End:b.Z,Standard:b.Z},g={floating:u.Z};var x=function(){let e=(0,i.useSearchParams)(),t=e.get("cycle_id"),n=e.get("selected_app"),{nodes:s,edges:u,onNodesChange:b,onEdgesChange:x,onConnect:v,setRfInstance:y,fetchNodesEdges:w}=(0,m.Z)(),j=(0,o.AC)(),{isInteractive:_}=(0,o.oR)(e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable}),p.X),C=e=>j.setState({nodesDraggable:e,nodesConnectable:e,elementsSelectable:e}),E={animated:!1,type:"smoothstep",markerEnd:{type:o.QZ.Arrow}};return r.useEffect(()=>{_&&C(!1)},[]),(0,a.jsxs)("div",{className:"h-full space-y-6",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Work In Progress Diagram"}),(0,a.jsxs)("div",{className:"jsx-1ca6d7df803b47ae border border-black rounded-xl h-full",children:[(0,a.jsxs)(o.x$,{nodes:s,edges:u,onInit:e=>{w({cycle_id:t,apps_label:n}),y(e)},onNodesChange:b,onEdgesChange:x,onConnect:v,fitView:!0,fitViewOptions:{padding:.2},defaultEdgeOptions:E,connectionLineComponent:h.Z,edgeTypes:g,nodeTypes:f,nodesDraggable:!1,children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(d.Z,{showInteractive:!0})]}),(0,a.jsx)(l(),{id:"1ca6d7df803b47ae",children:".react-flow__panel.right{display:none}"})]})]})},v=n(8793),y=n(46738),w=n(6906),j=n(78089);let _=r.createContext(void 0);function C(e){let{children:t}=e,n=(0,j.Z)();return(0,a.jsx)(_.Provider,{value:n,children:t})}let E=()=>{let e=r.useContext(_);if(!e)throw Error("useActionIcons must be used within a ActionIconsProvider");return{...e,getAction:e=>{for(let t in e)if(e[t])return t;return null},getIsEditable:(e,t)=>e[t],getIsAnyEditable:e=>{for(let t in e)if(e[t])return!0;return!1}}};var S=n(38352),N=n(58635),k=n(43182),Z=n(57956),A=n(73610),P=e=>{var t;let{type:n="action",className:o,...s}=e,l=null===(t=s.history)||void 0===t?void 0:t.refetch,i=(0,S.Gc)(),{reset:c,setFocus:d,setValue:u}=i,{isEditable:h,toggleIsEditable:m}=E(),b=e=>{var t;m(null===(t=e.target.offsetParent)||void 0===t?void 0:t.id),c()},p=[..."action"===n?[{id:"add",label:"Add",icon:{name:"heroicons:plus-circle",width:"1.75rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.add?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.add?"white":"black"},{id:"move",label:"Move",icon:{name:"heroicons:arrows-pointing-in",width:"1.75rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.move?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.move?"white":"black"},{id:"duplicate",label:"Duplicate",icon:{name:"heroicons-outline:document-duplicate",width:"1.5rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.duplicate?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.duplicate?"white":"black"},{id:"delete",label:"Delete",icon:{name:"heroicons-outline:trash",width:"1.5rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.delete?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.delete?"white":"black"},{id:"restore",label:"Restore",icon:{name:"heroicons-outline:refresh",width:"1.5rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.restore?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.restore?"white":"black"},{id:"disjoint",label:"Disjoint",icon:{name:"heroicons-outline:scissors",width:"1.5rem"},component:"button",type:"submit",disabled:!1,onClick:b,color:h.disjoint?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.disjoint?"white":"black"}]:[],..."history"===n?[{id:"refresh",label:"Refresh",icon:{name:"heroicons-outline:refresh",width:"1.5rem"},component:"button",type:"button",disabled:!1,onClick:l,color:h.refresh?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.refresh?"white":"black"},{id:"filter",label:"Filter",icon:{name:"heroicons:adjustments-vertical",width:"1.5rem"},component:"button",type:"button",input:"select",disabled:!1,color:h.filter?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.filter?"white":"black"},{id:"sort",label:"Sort",icon:{name:"heroicons:arrows-up-down-solid",width:"1.5rem"},component:"button",type:"button",disabled:!1,onClick:e=>{u("sort","asc"===i.getValues("sort")?"desc":"asc")},color:h.sort?"var(--fc-brand-700)":"var(--fc-neutral-100)",c:h.sort?"white":"black"}]:[]];return r.useEffect(()=>{h.add&&d("curr_stage_name"),h.add||d("curr_stage_uuid")},[h,d]),(0,a.jsx)("div",{className:(0,N.Z)("flex gap-3",o),children:p.map(e=>e.input?(0,a.jsx)(R,{children:t=>{let{ref:n,toggle:r}=t;return(0,a.jsx)(y.u,{label:e.label,children:(0,a.jsx)(w.A,{ref:n,id:e.id,component:e.component,type:e.type,disabled:e.disabled,variant:"filled",color:e.color,c:e.c,size:"2.5rem",radius:"md","aria-label":e.label,autoContrast:!0,classNames:{root:"text-black/70 hover:text-black disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},onClick:r,children:(0,a.jsx)(v.JO,{icon:e.icon.name,width:e.icon.width})})})}},e.id):(0,a.jsx)(y.u,{label:e.label,children:(0,a.jsx)(w.A,{id:e.id,component:e.component,type:e.type,disabled:e.disabled,variant:"filled",color:e.color,c:e.c,size:"2.5rem",radius:"md","aria-label":e.label,autoContrast:!0,classNames:{root:"text-black/70 hover:text-black disabled:!bg-[#f1f3f5] disabled:!text-[#adb5bd]"},onClick:e.onClick,children:(0,a.jsx)(v.JO,{icon:e.icon.name,width:e.icon.width})})},e.id))})};function R(e){let{children:t}=e,[n,{toggle:r,close:o}]=(0,k.q)(),s=(0,Z.O)(()=>o(),["mouseup","touchend"]);return(0,a.jsxs)("div",{className:"relative inline-block",children:[(0,a.jsx)(A.Ph,{name:"action",rightSection:(0,a.jsx)(a.Fragment,{}),data:["add","move","duplicate","delete","restore","disjoint"],classNames:{input:"absolute inset-0 opacity-0 w-full h-full cursor-default",dropdown:"!w-40"},dropdownOpened:n,checkIconPosition:"left"}),"function"==typeof t?t({ref:s,toggle:r}):t]})}var I=n(62159),z=n(80184),F=n(14918),L=()=>{var e;let{data:t}=(0,F.kP)(),n=null==t?void 0:null===(e=t.user)||void 0===e?void 0:e.user_id;(0,i.useRouter)();let o=(0,i.usePathname)(),s=(0,i.useParams)(),l=(0,i.useSearchParams)(),c=s.cycle_uuid;l.get("cycle_id"),l.get("selected_app");let d="".concat(o,"?").concat(l),{isEditable:u,reset:h,getAction:b,getIsAnyEditable:p}=E(),{onApply:f,onReset:g,onSave:x,generateNodeId:y}=(0,m.Z)(),w=p(u),{handleSubmit:j,reset:_}=(0,S.Gc)(),C=b(u),[N]=r.useState(()=>crypto.randomUUID()),[k,Z]=r.useReducer((e,t)=>[...e,{action:t.type,stage_uuid:t.data.curr_stage_uuid}],[]),A=[{label:"Reset",type:"button",disabled:!1,canShow:!0,onClick:()=>g(()=>{_(),(0,z.Vh)({action:"reset_restructure_cycle",notes:"Reset restructuring cycle",object:"src/app/cycle/restructure/[cycle_uuid]/_component/workspace/ActionButtons.tsx",process_state:"RESTRUCTURE_CYCLE",sysapp:"FLOWCRAFTBUSINESSPROCESS",sysfunc:'"onResetSubmit" func',userid:n,json_object:{cycle_uuid:c,data:k},location_url:d})}),color:"var(--fc-neutral-100)",c:"var(--bc-neutral-900)",icon:{name:"heroicons-outline:x-circle",width:"1.5rem"}},{label:"Apply",type:"button",disabled:!w,canShow:!0,onClick:j((e,t)=>{var a;let r={...e,curr_stage_uuid:null!==(a=e.curr_stage_uuid)&&void 0!==a?a:y()};f({action:C,data:r,callback:()=>{Z({type:C,data:r}),_(),(0,z.Vh)({action:"apply_"+C+"_restructure_cycle",notes:"Apply ".concat(C," on restructuring cycle"),object:"src/app/cycle/restructure/[cycle_uuid]/_component/workspace/ActionButtons.tsx",process_state:"RESTRUCTURE_CYCLE",sysapp:"FLOWCRAFTBUSINESSPROCESS",sysfunc:'"onApplySubmit" func',userid:n,json_object:{...r,uuid:"log_".concat(N)},location_url:d})}})}),color:"var(--fc-brand-700)",icon:{name:"heroicons-outline:check-circle",width:"1.5rem"}},{label:"Save",type:"button",disabled:!w,canShow:!0,onClick:()=>x({cycle_uuid:c,callback:e=>{let{data:t,...a}=e;a.success&&(0,z.Vh)({action:"save_restructure_cycle",notes:"Save restructuring cycle",object:"src/app/cycle/restructure/[cycle_uuid]/_component/workspace/ActionButtons.tsx",process_state:"TRIGGERAPI",sysapp:"FLOWCRAFTBUSINESSPROCESS",sysfunc:'"onSaveSubmit" func',userid:n,json_object:{...a,uuid:"log_".concat(N),cycle_uuid:c,data:k},location_url:d}).then(()=>{h(),window.location.reload()})}}),color:"var(--fc-brand-700)",icon:{name:"heroicons:arrow-right-end-on-rectangle-20-solid",width:"1.5rem",rotate:45}}];return(0,a.jsx)("div",{className:"flex justify-end gap-3",children:A.map((e,t)=>{let{label:n,canShow:r,icon:o,onClick:s,color:l,...i}=e;return r&&(0,a.jsx)(I.z,{variant:"filled",color:l,radius:"md",size:"sm",fz:"0.9rem",autoContrast:!0,leftSection:(0,a.jsx)(v.JO,{width:o.width,icon:o.name,rotate:o.rotate}),onClick:s,...i,children:n},t)})})},O=n(86954),B=n(4035),M=n(51828),V=n(51747),D=n(12706),H=n(59132),T=n(27008),W=n(19301),U=n(47029),$=n(95559),X=function(){var e;let t=(0,i.useSearchParams)(),n=(0,i.useParams)().cycle_uuid,o=t.get("cycle_id"),s=t.get("selected_app"),{getSelectedNodeId:c,getInputOptions:d,getPreviousInputOptions:u,getNextInputOptions:h,toggleSelectedByNodeId:b,fetchDeletedNodes:p}=(0,m.Z)(),{isEditable:f,getAction:g,getIsEditable:x,getIsAnyEditable:y}=E(),w=g(f),j=x(f,"add");x(f,"move"),x(f,"duplicate");let _=x(f,"delete"),C=x(f,"restore"),k=x(f,"disjoint"),Z=y(f),R=c(),I=d(),F=u(),X=h(),[G,J]=r.useState([]),Y=null===(e=G[0])||void 0===e?void 0:e.label,{ref:q,height:Q}=(0,W.h)(),K=(0,S.cI)({defaultValues:{curr_stage_uuid:null,curr_stage_name:"",previous_stage:[],next_stage:[]}}),{control:ee,watch:et,setValue:en}=K,ea=et("curr_stage_uuid"),er=et("curr_stage_name"),eo=et("action"),es=et("sort"),el=[{type:"text",name:"curr_stage_uuid",label:"Stage Name",placeholder:"Choose Stage",data:C?G:I,value:R,onChange:C?()=>{en("curr_stage_name",Y)}:b,canShow:!j,control:ee,disabled:!Z},{type:"text",name:"curr_stage_name",label:"Stage Name",placeholder:"Name your stage",data:I,value:R,onChange:b,canShow:j,control:ee,disabled:!Z},{group:"Position",canShow:!_&&(ea||er||!1),inputs:[{type:"text",name:"previous_stage",label:"Choose previous stage",placeholder:"Choose Stage",data:k?F:I,onChange:()=>{},canShow:!_&&(ea||er||!1),control:ee,disabled:!Z},{type:"text",name:"next_stage",label:"Choose next stage",placeholder:"Choose Stage",data:k?X:I,onChange:()=>{},canShow:!_&&(ea||er||!1),control:ee,disabled:!Z}]}];r.useEffect(()=>{C&&p({apps_label:s,cycle_id:o}).then(J)},[C]);let[ei]=r.useState({pageSize:5,pageIndex:1}),ec={cycle_uuid:n,per_page:ei.pageSize,page:ei.pageIndex,sort:es,action:eo},{data:ed,isFetchingNextPage:eu,fetchNextPage:eh,hasNextPage:em,isFetching:eb,refetch:ep}=(0,U.N)({initialPageParam:ei.pageIndex,queryKey:["restructureLog",ec],queryFn:e=>{let{pageParam:t}=e;return(0,z.Xi)(ec)},enabled:!!n,getNextPageParam:(e,t,n)=>{if(e.page!==e.total_pages)return n+1},getPreviousPageParam:(e,t,n)=>{if(!(e.page<=0))return n-1}})||{},ef=null==ed?void 0:ed.pages[0].total_items;return(0,a.jsx)(S.RV,{...K,children:(0,a.jsxs)("div",{className:"h-full space-y-6",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"The Flow Objects"}),(0,a.jsxs)("div",{className:"flex flex-col h-full space-y-6",children:[(0,a.jsx)(P,{type:"action"}),(0,a.jsxs)(a.Fragment,{children:[w&&(0,a.jsxs)("h1",{className:"text-xl font-semibold",children:[(0,a.jsx)("span",{className:"capitalize",children:w})," stage"]}),(0,a.jsx)("div",{className:"border border-black rounded-xl pb-2",children:(0,a.jsx)("form",{className:(0,N.Z)("space-y-4 p-4"),children:el.map((e,t)=>(0,a.jsxs)("div",{children:[j&&!e.group&&e.canShow&&(0,a.jsxs)(B.S,{ref:q,label:e.label,classNames:{root:"relative space-y-4 -mt-4",label:"!text-sm !font-semibold"},children:[(0,a.jsx)(O.Z,{label:e.label}),(0,a.jsx)(A.oi,{name:e.name,placeholder:e.placeholder,disabled:e.disabled,classNames:{input:"!rounded-lg py-6 pr-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black"},control:e.control})]},t),!j&&!e.group&&e.canShow&&(0,a.jsxs)(B.S,{ref:q,label:e.label,classNames:{root:"relative space-y-4",label:"!text-sm !font-semibold"},children:[(0,a.jsx)(O.Z,{label:e.label}),(0,a.jsx)(A.Ph,{name:e.name,placeholder:e.placeholder,checkIconPosition:"right",rightSection:(0,a.jsx)(v.JO,{icon:"tabler:chevron-down",width:"1rem",height:"1rem"}),data:e.data,disabled:e.disabled,allowDeselect:!0,searchable:!0,nothingFoundMessage:"No stage found",classNames:{input:"!rounded-lg py-6 pr-6 w-full focus:outline-none focus:ring-2 focus:ring-[var(--fc-brand-700)] focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] disabled:border-transparent disabled:text-black"},control:e.control,onChange:e.onChange})]},t),e.group&&e.canShow&&(0,a.jsx)("h2",{className:"text-sm font-semibold",children:e.group}),(0,a.jsx)("div",{className:"pl-4",children:e.group&&(null==e?void 0:e.inputs.map((e,t)=>e.canShow&&(0,a.jsxs)(B.S,{ref:q,label:e.label,classNames:{root:"relative space-y-4",label:"!text-sm !font-semibold"},children:[(0,a.jsx)(O.Z,{label:e.label}),(0,a.jsx)(A.NU,{name:e.name,placeholder:e.placeholder,data:e.data,disabled:e.disabled,rightSection:(0,a.jsx)(v.JO,{icon:"tabler:chevron-down",width:"1rem",height:"1rem"}),checkIconPosition:"right",searchable:!0,classNames:{input:"!rounded-lg py-3 pr-3 w-full !focus:outline-none !focus:ring-2 !focus:ring-[var(--fc-brand-700)] !focus:border-transparent transition-all duration-300 ease-in-out disabled:!bg-[#F1F4F5] !disabled:border-transparent !disabled:text-black"},nothingFoundMessage:"No stage found",control:e.control}),(0,a.jsx)(l(),{id:"a9bd9e87930b109c",children:".mantine-MultiSelect-input:focus{outline:2px solid var(--fc-brand-700);border-color:transparent;-webkit-transition:all.1s ease;-moz-transition:all.1s ease;-o-transition:all.1s ease;transition:all.1s ease}.mantine-MultiSelect-input:focus-visible{outline:2px solid var(--fc-brand-700);border-color:transparent;-webkit-transition:all.1s ease;-moz-transition:all.1s ease;-o-transition:all.1s ease;transition:all.1s ease}.mantine-MultiSelect-input:focus-within{outline:2px solid var(--fc-brand-700);border-color:transparent;-webkit-transition:all.1s ease;-moz-transition:all.1s ease;-o-transition:all.1s ease;transition:all.1s ease}"})]},t)))})]},t))})}),(0,a.jsx)(L,{}),(0,a.jsx)("h1",{className:"text-xl font-semibold",children:"Restructure History"}),(0,a.jsx)("div",{className:"h-96 relative flex flex-col border border-black rounded-xl pb-2 overflow-hidden",children:(0,a.jsxs)(M.ScrollAreaAutosize,{children:[(0,a.jsx)(P,{type:"history",className:"p-4 ml-auto sticky top-0 w-full justify-end bg-gradient-to-b from-white from-70% z-10",history:{refetch:ep}}),(0,a.jsxs)("div",{className:"flex flex-col p-4 space-y-3",children:[null==ed?void 0:ed.pages.map(e=>e.data.length?(0,a.jsx)("div",{className:"relative space-y-4",children:e.data.map((e,t)=>(0,a.jsxs)(D.Flex,{justify:"center",direction:"column",children:[(0,a.jsxs)(D.Flex,{align:"start",justify:"space-between",w:"100%",children:[(0,a.jsxs)(V.x,{children:[(0,a.jsx)("span",{className:"capitalize",children:e.action}),' by "',e.user_name,'"']}),(0,a.jsx)(V.x,{size:"xs",mt:4,ml:"auto",children:(0,$.pi)(e.updated_datetime)})]}),(0,a.jsx)(V.x,{c:"dimmed",size:"sm",children:e.stage_name})]},t))},e.page):(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(V.x,{c:"dimmed",children:"No data"})},e.page)),!!ef&&!!em&&(0,a.jsxs)(H.e,{onClick:()=>eh(),className:"font-light",children:[(eu||eb&&!eu)&&(0,a.jsx)(T.LoadingOverlay,{visible:!0,zIndex:1e3,overlayProps:{radius:"sm",blur:2},loaderProps:{color:"var(--fc-brand-700)",type:"oval"}}),"Load more"]})]})]})})]})]})]})})},G=()=>(0,a.jsx)(o.tV,{children:(0,a.jsxs)(C,{children:[(0,a.jsx)(x,{}),(0,a.jsx)(X,{})]})})},31753:function(e,t,n){"use strict";var a=n(66628);n(46024);var r=n(77669),o=n(43991);t.Z=function(e){let{toX:t,toY:n,fromPosition:s,toPosition:l,fromNode:i}=e;if(!i)return null;let{sx:c,sy:d}=(0,o.x)(i,{id:"connection-target",width:1,height:1,positionAbsolute:{x:t,y:n}}),[u]=(0,r.OQ)({sourceX:c,sourceY:d,sourcePosition:s,targetPosition:l,targetX:t,targetY:n});return(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fill:"none",stroke:"#222",strokeWidth:1.5,className:"animated",d:u}),(0,a.jsx)("circle",{cx:t,cy:n,fill:"#fff",r:3,stroke:"#222",strokeWidth:1.5})]})}},31280:function(e,t,n){"use strict";var a=n(66628),r=n(46024),o=n(77669),s=n(43991);t.Z=r.memo(function(e){let{id:t,source:n,target:l,markerEnd:i,style:c}=e,d=(0,o.oR)(r.useCallback(e=>e.nodeInternals.get(n),[n])),u=(0,o.oR)(r.useCallback(e=>e.nodeInternals.get(l),[l]));if(!d||!u)return null;let{sx:h,sy:m,tx:b,ty:p,sourcePos:f,targetPos:g}=(0,s.x)(d,u),[x]=(0,o.OQ)({sourceX:h,sourceY:m,sourcePosition:f,targetPosition:g,targetX:b,targetY:p});return(0,a.jsx)("path",{id:t,className:"react-flow__edge-path",d:x,markerEnd:i,style:c})})},43991:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var a=n(77669);function r(e,t){let{width:n,height:a,positionAbsolute:r}=e,o=t.positionAbsolute,s=n/2,l=a/2,i=r.x+s,c=r.y+l,d=o.x+t.width/2,u=o.y+t.height/2,h=(d-i)/(2*s)-(u-c)/(2*l),m=(d-i)/(2*s)+(u-c)/(2*l),b=1/(Math.abs(h)+Math.abs(m)),p=b*h,f=b*m;return{x:s*(p+f)+i,y:l*(-p+f)+c}}function o(e,t){let n={...e.positionAbsolute,...e},r=Math.round(n.x),o=Math.round(n.y),s=Math.round(t.x),l=Math.round(t.y);return s<=r+1?a.Ly.Left:s>=r+n.width-1?a.Ly.Right:l<=o+1?a.Ly.Top:l>=n.y+n.height-1?a.Ly.Bottom:a.Ly.Top}function s(e,t){let n=r(e,t),a=r(t,e),s=o(e,n),l=o(t,a);return{sx:n.x,sy:n.y,tx:a.x,ty:a.y,sourcePos:s,targetPos:l}}},9273:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var a=n(66628),r=n(46024),o=e=>{let{width:t=60,height:n=60}=e;return(0,a.jsx)("svg",{width:t,height:n,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("circle",{cx:"30",cy:"30",r:"30",fill:"#FB7185"})})},s=e=>{let{width:t=60,height:n=50}=e;return(0,a.jsx)("svg",{width:t,height:n,viewBox:"0 0 60 50",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("rect",{width:"60",height:"50",rx:"10",fill:"#2DD4BF"})})},l=n(58635),i=n(77669),c=r.memo(e=>{let{data:t,selected:n,type:r}=e;return(0,a.jsxs)("div",{className:(0,l.Z)("flex flex-col items-center w-60",n&&"border border-dashed border-[var(--fc-brand-700)]"),children:[(0,a.jsx)(i.HH,{type:"target",position:i.Ly.Top,className:"opacity-0"}),(0,a.jsx)("div",{className:"border border-gray-300 p-4",children:(0,a.jsx)("label",{htmlFor:t.label,children:t.label})}),"Start"===r||"End"===r?(0,a.jsx)(o,{}):(0,a.jsx)(s,{width:120,height:110}),(0,a.jsx)(i.HH,{type:"source",position:i.Ly.Bottom,className:"opacity-0"})]})})},78089:function(e,t,n){"use strict";var a=n(46024);t.Z=e=>{let[t,n]=a.useState({});return{isEditable:t,toggleIsEditable:t=>{n(n=>({...(null==e?void 0:e.multiple)&&{...n},[t]:!n[t]}))},reset:()=>{n({})}}}},35241:function(e,t,n){"use strict";n.d(t,{M:function(){return s},j:function(){return l}});var a=n(66628),r=n(46024);let o=r.createContext(void 0),s=e=>{let{children:t}=e,[n,s]=r.useState(""),[l,i]=r.useState({prev:"",curr:""});return(0,a.jsx)(o.Provider,{value:{selectedApp:n,setSelectedApp:s,url:l,setUrl:i},children:t})},l=()=>{let e=r.useContext(o);if(!e)throw Error("useGlobalStateContext must be used within a GlobalStateProvider");return e}},73271:function(){},65543:function(){},59132:function(e,t,n){"use strict";n.d(t,{e:function(){return d}});var a=n(66628),r=n(58635);n(46024);var o=n(39115),s=n(15706),l=n(51747),i={root:"m_849cf0da"};let c={underline:"hover"},d=(0,s.b)((e,t)=>{let{underline:n,className:s,unstyled:d,mod:u,...h}=(0,o.w)("Anchor",c,e);return(0,a.jsx)(l.x,{component:"a",ref:t,className:(0,r.Z)({[i.root]:!d},s),...h,mod:[{underline:n},u],__staticSelector:"Anchor",unstyled:d})});d.classes=i,d.displayName="@mantine/core/Anchor"},19301:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var a=n(46024);let r={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function o(e){let[t,{width:n,height:o}]=function(e){let t=(0,a.useRef)(0),n=(0,a.useRef)(null),[o,s]=(0,a.useState)(r),l=(0,a.useMemo)(()=>"undefined"!=typeof window?new ResizeObserver(e=>{let a=e[0];a&&(cancelAnimationFrame(t.current),t.current=requestAnimationFrame(()=>{n.current&&s(a.contentRect)}))}):null,[]);return(0,a.useEffect)(()=>(n.current&&(null==l||l.observe(n.current,e)),()=>{null==l||l.disconnect(),t.current&&cancelAnimationFrame(t.current)}),[n.current]),[n,o]}(e);return{ref:t,width:n,height:o}}},88512:function(e,t,n){"use strict";n.d(t,{A:function(){return p}});var a,r,o=n(46024),s=n(43652),l=n(77669),i=n(23500);function c({color:e,dimensions:t,lineWidth:n}){return o.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function d({color:e,radius:t}){return o.createElement("circle",{cx:t,cy:t,r:t,fill:e})}(a=r||(r={})).Lines="lines",a.Dots="dots",a.Cross="cross";let u={[r.Dots]:"#91919a",[r.Lines]:"#eee",[r.Cross]:"#e2e2e2"},h={[r.Dots]:1,[r.Lines]:1,[r.Cross]:6},m=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function b({id:e,variant:t=r.Dots,gap:n=20,size:a,lineWidth:b=1,offset:p=2,color:f,style:g,className:x}){let v=(0,o.useRef)(null),{transform:y,patternId:w}=(0,l.oR)(m,i.X),j=f||u[t],_=a||h[t],C=t===r.Dots,E=t===r.Cross,S=Array.isArray(n)?n:[n,n],N=[S[0]*y[2]||1,S[1]*y[2]||1],k=_*y[2],Z=E?[k,k]:N,A=C?[k/p,k/p]:[Z[0]/p,Z[1]/p];return o.createElement("svg",{className:(0,s.Z)(["react-flow__background",x]),style:{...g,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:v,"data-testid":"rf__background"},o.createElement("pattern",{id:w+e,x:y[0]%N[0],y:y[1]%N[1],width:N[0],height:N[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`},C?o.createElement(d,{color:j,radius:k/p}):o.createElement(c,{dimensions:Z,color:j,lineWidth:b})),o.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${w+e})`}))}b.displayName="Background";var p=(0,o.memo)(b)},58220:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var a=n(46024),r=n(43652),o=n(23500),s=n(77669);function l(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},a.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function i(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},a.createElement("path",{d:"M0 0h32v4.2H0z"}))}function c(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},a.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function d(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function u(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},a.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}let h=({children:e,className:t,...n})=>a.createElement("button",{type:"button",className:(0,r.Z)(["react-flow__controls-button",t]),...n},e);h.displayName="ControlButton";let m=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),b=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:b=!0,fitViewOptions:p,onZoomIn:f,onZoomOut:g,onFitView:x,onInteractiveChange:v,className:y,children:w,position:j="bottom-left"})=>{let _=(0,s.AC)(),[C,E]=(0,a.useState)(!1),{isInteractive:S,minZoomReached:N,maxZoomReached:k}=(0,s.oR)(m,o.X),{zoomIn:Z,zoomOut:A,fitView:P}=(0,s._K)();return((0,a.useEffect)(()=>{E(!0)},[]),C)?a.createElement(s.s_,{className:(0,r.Z)(["react-flow__controls",y]),position:j,style:e,"data-testid":"rf__controls"},t&&a.createElement(a.Fragment,null,a.createElement(h,{onClick:()=>{Z(),f?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:k},a.createElement(l,null)),a.createElement(h,{onClick:()=>{A(),g?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:N},a.createElement(i,null))),n&&a.createElement(h,{className:"react-flow__controls-fitview",onClick:()=>{P(p),x?.()},title:"fit view","aria-label":"fit view"},a.createElement(c,null)),b&&a.createElement(h,{className:"react-flow__controls-interactive",onClick:()=>{_.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),v?.(!S)},title:"toggle interactivity","aria-label":"toggle interactivity"},S?a.createElement(u,null):a.createElement(d,null)),w):null};b.displayName="Controls";var p=(0,a.memo)(b)}},function(e){e.O(0,[5767,3610,8435,9220,2159,1251,8437,6249,1828,8592,8863,6738,4918,6451,8786,9718,4825,5870,6254,6218,6862,1744],function(){return e(e.s=13239)}),_N_E=e.O()}]);